(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{406:function(t,e,a){"use strict";a.r(e);var s=a(4),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"locators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#locators"}},[t._v("#")]),t._v(" Locators")]),t._v(" "),a("p",[t._v("Imagine, you have 30 different shops or offices or any other points. How to direct your client to the nearest ones? Now you can set up and use our simple (yet flexible) locators.")]),t._v(" "),a("h2",{attrs:{id:"create-locator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-locator"}},[t._v("#")]),t._v(" Create locator")]),t._v(" "),a("p",[t._v("To create our first locator, let's just make a "),a("code",[t._v("POST")]),t._v(" request at "),a("code",[t._v("/v2/locators")]),t._v(" :")]),t._v(" "),a("div",{staticClass:"language-shell screen-hidden extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --request POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.vyte.in/v2/locators'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--header "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Authorization: 2lnpjjrurrl49xja5oo0qujtl60embr7zppiphc5fcav4n7ycx'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--header "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type: application/json'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-raw "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{\n  {\n    "org": "60afc3fb228757001d737c11",\n    "handle": "coaches",\n    "picture_url": "https://picture.com/locator",\n    "title": "Find the best coach for you",\n    "message": "Enable geolocation",\n    "footer": "Hey hey <a href=\'')]),t._v("http://www.google.com"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'>yep</a>",\n    "no_results": {\n        "message": "nothing is found",\n        "button": { label: "try again", link: "http://www.yahoo.com" }\n        },\n    "back_button": { label: "Choose another one" },\n    "max_distance": 13000,\n    "lang": "en",\n    "locations": [\n        {\n        "name": "Mike",\n        "address": "12 rue Berthollet, 75005 Paris",\n        "location": [Object],\n        "picture_url": "https://picture.com/123",\n        "link": "/coach-bertho/coaching",\n        "extid": "123"\n        },\n        {\n        "name": "Phil",\n        "address": "12 rue Maine, 75005 Paris",\n        "location": [Object],\n        "picture_url": "https://picture.com/123",\n        "link": "/coach-phil/coaching",\n        "extid": "456"\n        },\n        {\n        "name": "Jake",\n        "address": "12 rue Vagram, 75005 Paris",\n        "location": [Object],\n        "picture_url": "https://picture.com/123",\n        "link": "/coach-jake/coaching",\n        "extid": "789"\n        }\n    ]\n    }\n}\'')]),t._v("\n")])])]),a("h2",{attrs:{id:"what-does-all-that-mean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-does-all-that-mean"}},[t._v("#")]),t._v(" What does all that mean?")]),t._v(" "),a("p",[t._v("Locators have particular properties.")]),t._v(" "),a("attributes",{attrs:{title:"Properties"}},[a("attribute",{attrs:{name:"org",type:"ObjectId",required:!0}},[a("p",[t._v("The "),a("code",[t._v("_id")]),t._v(" of organisation.")])]),t._v(" "),a("attribute",{attrs:{name:"handle",type:"string",required:!0}},[a("p",[t._v("Unique handle which will be be accessible at: "),a("code",[t._v("https://vyte.in/locator/handle")])])]),t._v(" "),a("attribute",{attrs:{name:"picture_url",type:"string"}},[a("p",[t._v("The link to the locators picture.")])]),t._v(" "),a("attribute",{attrs:{name:"title",type:"string"}},[a("p",[t._v("The title of locator.")])]),t._v(" "),a("attribute",{attrs:{name:"message",type:"string"}},[a("p",[t._v("Custom messsage.")])]),t._v(" "),a("attribute",{attrs:{name:"footer",type:"string"}},[a("p",[t._v("Custom footer message.")])]),t._v(" "),a("attribute",{attrs:{name:"lang",type:"string"}},[a("p",[t._v("It is expressed according to "),a("a",{attrs:{href:"https://fr.wikipedia.org/wiki/Liste_des_codes_ISO_639-1",target:"_blank",rel:"noopener noreferrer"}},[t._v("ISO 639-1"),a("OutboundLink")],1),t._v(" and the available languages are : "),a("code",[t._v("fr")]),t._v(", "),a("code",[t._v("en")]),t._v(", "),a("code",[t._v("es")]),t._v(", "),a("code",[t._v("it")]),t._v(", "),a("code",[t._v("pt")]),t._v(", "),a("code",[t._v("de")]),t._v(", "),a("code",[t._v("sv")]),t._v(", "),a("code",[t._v("nl")]),t._v(".")])]),t._v(" "),a("attribute",{attrs:{name:"no_results",type:"object"}},[a("p",[t._v("What will happen if nothing is found?")])]),t._v(" "),a("attributes",{attrs:{isChild:!0}},[a("attribute",{attrs:{name:"message",type:"string",isChild:!0,parentNames:["no_results"]}},[a("p",[t._v("Custom your message. Like 'Nothing is found'.")])]),t._v(" "),a("attribute",{attrs:{name:"button",type:"object",isChild:!0,parentNames:["no_results"]}},[a("p",[t._v("Custom the button, proposing the solution.")])]),t._v(" "),a("attributes",{attrs:{isChild:!0}},[a("attribute",{attrs:{name:"label",type:"string",isChild:!0,parentNames:["no_results","button"]}},[a("p",[t._v("Label of the custom button.")])]),t._v(" "),a("attribute",{attrs:{name:"link",type:"string",isChild:!0,parentNames:["no_results","button"]}},[a("p",[t._v("Link of the custom button.")])])],1),t._v(" "),a("attribute",{attrs:{name:"back_batton",type:"object"}},[a("p",[t._v("Custom your back button.")])]),t._v(" "),a("attributes",{attrs:{isChild:!0}},[a("attribute",{attrs:{name:"label",type:"string",isChild:!0,parentNames:["back_button"]}},[a("p",[t._v("Label of the custom back button.")])])],1),t._v(" "),a("attribute",{attrs:{name:"max_distance",type:"number"}},[a("p",[t._v("Max distance from client's location in meters.")])]),t._v(" "),a("attribute",{attrs:{name:"postcode_filter",type:"string"}},[a("p",[t._v("Add filtering by postcode.")])]),t._v(" "),a("attribute",{attrs:{name:"address_postfix",type:"string"}},[a("p",[t._v("Add address postfix.")])]),t._v(" "),a("attribute",{attrs:{name:"address_region_bias",type:"string"}},[a("p",[t._v('Choose default regions, could be comma separated values. ex: "fr,de".')])]),t._v(" "),a("attribute",{attrs:{name:"geolocation",type:"boolean"}},[a("p",[t._v("Set "),a("code",[t._v("false")]),t._v(" par default.")])]),t._v(" "),a("attribute",{attrs:{name:"locations",type:"array"}},[a("p",[t._v("Array of locations of your points/stores/centers. It is an example of "),a("code",[t._v("Location")]),t._v(" class,  every element includes name, address, coordinates, pictures and link to particular locator.")])])],1),t._v(" "),a("h2",{attrs:{id:"list-all-locators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#list-all-locators"}},[t._v("#")]),t._v(" List all locators")]),t._v(" "),a("p",[t._v("To list all the locators, you can use "),a("code",[t._v("GET")]),t._v(" request at "),a("code",[t._v("/v2/locators")]),t._v(" :")]),t._v(" "),a("div",{staticClass:"language-shell screen-hidden extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --request GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.vyte.in/v2/locators'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--header "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Authorization: 2lnpjjrurrl49xja5oo0qujtl60embr7zppiphc5fcav4n7ycx'")]),t._v("\n")])])]),a("p",[t._v("This one will return the array of created locators, if they exist. If you don't have locators yet, it will return empty array with "),a("code",[t._v("200")]),t._v(" response.")]),t._v(" "),a("h2",{attrs:{id:"retrieve-locator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#retrieve-locator"}},[t._v("#")]),t._v(" Retrieve locator")]),t._v(" "),a("p",[t._v("This one works quite the same as listing all the locators, we just need the "),a("code",[t._v("handle")]),t._v(" of locator. So let's go to "),a("code",[t._v("/v2/locators/:handle")]),t._v(" using "),a("code",[t._v("GET")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-shell screen-hidden extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --request GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.vyte.in/v2/locators/stores'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--header "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Authorization: 2lnpjjrurrl49xja5oo0qujtl60embr7zppiphc5fcav4n7ycx'")]),t._v("\n")])])]),a("p",[t._v("It will return the particular locator, if it exists.")]),t._v(" "),a("h2",{attrs:{id:"update-or-delete-locator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update-or-delete-locator"}},[t._v("#")]),t._v(" Update or delete locator")]),t._v(" "),a("p",[t._v("To manipulate the locators we use "),a("code",[t._v("/v2/locators/:locator_id")]),t._v(" endpoints. "),a("code",[t._v("PUT")]),t._v("for updating the locator, "),a("code",[t._v("DELETE")]),t._v(" to delete. One important thing: above we mentioned "),a("code",[t._v("Locations")]),t._v(": basically every locator contains the array of "),a("code",[t._v("locations")]),t._v(". To modify them we are going to use separate endpoints.")]),t._v(" "),a("h1",{attrs:{id:"locations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#locations"}},[t._v("#")]),t._v(" Locations")]),t._v(" "),a("p",[t._v("Basically "),a("code",[t._v("Location")]),t._v(" is an element of "),a("code",[t._v("Locator")]),t._v(", so every locator can have several locations to show to the user.")]),t._v(" "),a("h2",{attrs:{id:"create-the-location"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-the-location"}},[t._v("#")]),t._v(" Create the location")]),t._v(" "),a("p",[t._v("There are two ways to create locations:")]),t._v(" "),a("ul",[a("li",[t._v("Using "),a("code",[t._v("POST")]),t._v(" at "),a("code",[t._v("/v2/locators")]),t._v(" while creating the locator for the first time. Useful if you create the locator and already have the list of locations;")]),t._v(" "),a("li",[t._v("Using "),a("code",[t._v("POST")]),t._v(" at "),a("code",[t._v("/v2/locators/:locator_id/locations")]),t._v(". Useful if you need to add new location to the existing locator.")])]),t._v(" "),a("p",[t._v("Let's have a look at the second one :")]),t._v(" "),a("div",{staticClass:"language-shell screen-hidden extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --request POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.vyte.in/v2/locators/60afc3fb228757001d737c11/locations'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--header "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Authorization: 2lnpjjrurrl49xja5oo0qujtl60embr7zppiphc5fcav4n7ycx'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--header "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type: application/json'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-raw "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'\n{\n    name: "Jim"\n    address: "96bis Boulevard Raspail"\n    location:\n        type: "Point"\n        coordinates: [2.3, 48.8]\n    picture_url: "https://picture.com/123"\n    link: "https://www.agoranov.com/"\n    extid: "1234352"\n}\n\'')]),t._v("\n")])])]),a("p",[t._v("If everything is okay, it should create the object like this:")]),t._v(" "),a("div",{staticClass:"language-json light-code extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"location"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Point"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"coordinates"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Array"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"60b4c4c3b66924001789ba3e"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Jim"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"locator"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0afc3fb228757001d737c11"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"extid"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"address"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"96bis Boulevard Raspail"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"picture_url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://picture.com/123"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"link"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.agoranov.com/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"extid"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1234352"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"org"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"60b4c4c1b66924001789ba3a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"updatedAt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2021-05-31T11:13:07.067Z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"createdAt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2021-05-31T11:13:07.067Z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"__v"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"what-do-these-properties-mean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-do-these-properties-mean"}},[t._v("#")]),t._v(" What do these properties mean?")]),t._v(" "),a("attributes",{attrs:{title:"Properties"}},[a("attribute",{attrs:{name:"name",type:"string"}},[t._v("\nThe name of the point/store/center. Should be easy to identify.\n")]),t._v(" "),a("attribute",{attrs:{name:"address",type:"string"}},[t._v("\nAddress of the point.\n")]),t._v(" "),a("attribute",{attrs:{name:"location",type:"Point"}},[t._v("\nCoordinates of the point. You can find coordinates in many geo services like [GoogleMaps](https://support.google.com/maps/answer/18539). Here we use the Point type which stores geographical coordinates in [GeoJSON](https://geojson.org) format.\n")]),t._v(" "),a("attribute",{attrs:{name:"picture_url",type:"string"}},[t._v("\nLink to the picture used for this location.\n")]),t._v(" "),a("attribute",{attrs:{name:"link",type:"string"}},[t._v("\nRedicrection if the location is chosen.\n")]),t._v(" "),a("attribute",{attrs:{name:"extid",type:"string"}},[t._v("\nIf you have the points in your own database with specific `ids` you can keep them stored as `external_id`.\n")])],1),t._v(" "),a("h2",{attrs:{id:"retrieve-update-or-delete-location"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#retrieve-update-or-delete-location"}},[t._v("#")]),t._v(" Retrieve, update or delete location")]),t._v(" "),a("p",[t._v("For all these manipulations you can you one endpoint: "),a("code",[t._v("/v2/locators/:locator_id/locations/:location_id")]),t._v(" with "),a("code",[t._v("GET")]),t._v(", "),a("code",[t._v("PUT")]),t._v(" or "),a("code",[t._v("DELETE")]),t._v(".")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("GET")]),t._v(" will return the object with particular location")]),t._v(" "),a("li",[a("code",[t._v("PUT")]),t._v(" will update the location with provided data")]),t._v(" "),a("li",[a("code",[t._v("DELETE")]),t._v(" will delete the location with "),a("code",[t._v("200")]),t._v(" status response")])]),t._v(" "),a("p",[t._v("Looks quite easy, right? Let us know what do think!")])],1)],1)}),[],!1,null,null,null);e.default=r.exports}}]);